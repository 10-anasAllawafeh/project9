{"ast":null,"code":"import axios from \"axios\";\nlet user = '';\n\nconst loginReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    error: ''\n  };\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"emailORUsername\":\n      if (action.emailORUsername !== '') {\n        return { ...state,\n          emailORUsername: action.emailORUsername\n        };\n      }\n\n      break;\n\n    case \"password\":\n      if (action.password !== '') {\n        return { ...state,\n          password: action.password\n        };\n      }\n\n      break;\n\n    case \"LOGIN\":\n      const loadInfo = async () => {\n        const res = await axios.get('https:localhost//project9-1/PHP/login.php?email=' + state.emailORUsername + '&password=' + state.password);\n        sessionStorage.clear();\n        sessionStorage.setItem(\"user_info\", res.data);\n        console.log(res.data);\n        let user_info = sessionStorage.getItem(\"user_info\");\n        console.log(user_info);\n\n        if (user_info != '') {\n          window.location.href = \"/user\";\n        }\n\n        return { ...state,\n          error: 'Username/ email or password is invalid'\n        };\n      };\n\n      loadInfo();\n\n    default:\n      return state;\n  }\n};\n\nexport default loginReducer;","map":{"version":3,"names":["axios","user","loginReducer","state","error","action","type","emailORUsername","password","loadInfo","res","get","sessionStorage","clear","setItem","data","console","log","user_info","getItem","window","location","href"],"sources":["C:/xampp/htdocs/project9-1/src/reducers/login.js"],"sourcesContent":["import axios from \"axios\";\n\nlet user ='';\nconst loginReducer=(state={error:''},action)=>{\n\n\n    switch(action.type){\n        \n        case \"emailORUsername\":\n            if(action.emailORUsername !==''){\n                return {...state,emailORUsername:action.emailORUsername};\n            }\n            break;\n        case \"password\":\n            if(action.password !==''){\n                return {...state, password:action.password}\n            }\n            break;\n        case \"LOGIN\":\n                const loadInfo = async () => {\n                    const res = await axios.get('https:localhost//project9-1/PHP/login.php?email='+state.emailORUsername+'&password='+state.password);\n                    sessionStorage.clear()\n                sessionStorage.setItem(\"user_info\", res.data);\n                console.log(res.data);\n                let user_info= sessionStorage.getItem(\"user_info\");\n\n                console.log(user_info);\n                if(user_info != ''){\n                    window.location.href = \"/user\";\n                }\n                return {...state, error: 'Username/ email or password is invalid'}\n            \n  \n            };\n            loadInfo();\n            \n            \n        default:\n            return state;\n    }\n    \n    \n    \n}\nexport default loginReducer;"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAIC,IAAI,GAAE,EAAV;;AACA,MAAMC,YAAY,GAAC,YAA2B;EAAA,IAA1BC,KAA0B,uEAApB;IAACC,KAAK,EAAC;EAAP,CAAoB;EAAA,IAATC,MAAS;;EAG1C,QAAOA,MAAM,CAACC,IAAd;IAEI,KAAK,iBAAL;MACI,IAAGD,MAAM,CAACE,eAAP,KAA0B,EAA7B,EAAgC;QAC5B,OAAO,EAAC,GAAGJ,KAAJ;UAAUI,eAAe,EAACF,MAAM,CAACE;QAAjC,CAAP;MACH;;MACD;;IACJ,KAAK,UAAL;MACI,IAAGF,MAAM,CAACG,QAAP,KAAmB,EAAtB,EAAyB;QACrB,OAAO,EAAC,GAAGL,KAAJ;UAAWK,QAAQ,EAACH,MAAM,CAACG;QAA3B,CAAP;MACH;;MACD;;IACJ,KAAK,OAAL;MACQ,MAAMC,QAAQ,GAAG,YAAY;QACzB,MAAMC,GAAG,GAAG,MAAMV,KAAK,CAACW,GAAN,CAAU,qDAAmDR,KAAK,CAACI,eAAzD,GAAyE,YAAzE,GAAsFJ,KAAK,CAACK,QAAtG,CAAlB;QACAI,cAAc,CAACC,KAAf;QACJD,cAAc,CAACE,OAAf,CAAuB,WAAvB,EAAoCJ,GAAG,CAACK,IAAxC;QACAC,OAAO,CAACC,GAAR,CAAYP,GAAG,CAACK,IAAhB;QACA,IAAIG,SAAS,GAAEN,cAAc,CAACO,OAAf,CAAuB,WAAvB,CAAf;QAEAH,OAAO,CAACC,GAAR,CAAYC,SAAZ;;QACA,IAAGA,SAAS,IAAI,EAAhB,EAAmB;UACfE,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,OAAvB;QACH;;QACD,OAAO,EAAC,GAAGnB,KAAJ;UAAWC,KAAK,EAAE;QAAlB,CAAP;MAGH,CAdG;;MAeJK,QAAQ;;IAGZ;MACI,OAAON,KAAP;EAhCR;AAqCH,CAxCD;;AAyCA,eAAeD,YAAf"},"metadata":{},"sourceType":"module"}